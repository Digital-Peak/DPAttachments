Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){for(var e=(this.document||this.ownerDocument).querySelectorAll(t),n=e.length;0<=--n&&e.item(n)!==this;);return-1<n}),function(a,r){"use strict";a.addEventListener("DOMContentLoaded",function(){a.querySelector(".com-dpattachments-layout-attachments").addEventListener("click",function(t){if(!t.target.matches(".dp-attachment__link"))return!0;t.preventDefault();var e=function(t){var e=new tingle.modal({footer:!1,stickyFooter:!1,closeMethods:["overlay","button","escape"],cssClass:["dp-attachment-modal"],closeLabel:r.JText._("TMPL_DPSTRAP_CLOSE","Close")});e.setContent('<iframe class="dp-attachment-preview" src="'+t+'"></iframe>'),e.open()};if("undefined"!=typeof tingle&&tingle)return e(t.target.getAttribute("href")),!1;var n=a.createElement("script");n.type="text/javascript",n.src=r.getOptions("system.paths").root+"/media/com_dpattachments/js/tingle/tingle.min.js",n.addEventListener("load",function(){e(t.target.getAttribute("href"))}),a.head.appendChild(n);var o=a.createElement("link");return o.rel="stylesheet",o.href=r.getOptions("system.paths").root+"/media/com_dpattachments/css/tingle/tingle.min.css",a.head.appendChild(o),!1})})}(document,Joomla);
